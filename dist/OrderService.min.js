angular.module("flowerStore").service("OrderService",function(r,t,e,n){var o=this;o.fetchInProgress=function(){return r.get(n.api_url+"/get_in_progress").then(function(r){console.log("fetch in progress",r),r.data.cart.length>0&&(n.cart={},angular.forEach(r.data.cart,function(r,t){n.cart[r.flower_id]={orders_flowers_id:r.orders_flowers_id,quantity:r.quantity,cost:r.cost}}))},function(r){})},o.addToCart=function(t,e){return r.post(n.api_url+"/orders_flowers",{flower_id:t,quantity:e}).then(function(r){return r.data})},o.removeFromCart=function(t){return r.delete(n.api_url+"/orders_flowers/"+t).then(function(r){return r.data})},o.updateItem=function(t,e){return r.put(n.api_url+"/orders_flowers/"+t,{quantity:e}).then(function(r){return r.data})},o.updateCart=function(t){return r.put(n.api_url+"/orders",{orders_flowers:t}).then()},o.purchase=function(t,e){return r.post(n.api_url+"/purchase",{card_id:t,contact_id:e}).then(function(r){return r.data})}});